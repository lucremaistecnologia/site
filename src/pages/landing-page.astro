---
import { Image } from "astro:assets";
import LandingPageLayout from "../layouts/LandingPageLayout.astro";
import TestimonialsSection from "../components/TestimonialsSection.astro";
import StandardCallToAction from "../components/StandardCallToAction.astro";
import FounderSection from "../components/FounderSection.astro";
import FAQSection from "../components/FAQSection.astro";
import HighlightSection from "../components/HighlightSection.astro";
import heroImage from "../../public/heroimage.webp";
import image36 from "../../public/image 36.webp";
import image58 from "../../public/image 58.webp";
import ForYou from "../components/ForYou.astro";
import IntegrationsSection from "../components/IntegrationsSection.astro";
import LucreLogoNormal from "../../public/logos/lucre+ logo normal.svg";
import Form from "../components/Form.astro";
import Swiper1 from "../components/SwiperComponentLanding1.astro";
import Swiper2 from "../components/SwiperComponentLanding2.astro";
---

<LandingPageLayout title="Lucre+ Landing Page">
  <Fragment slot="header"></Fragment>
  <Fragment slot="footer"></Fragment>
  <main>
    <section class="landing-logo-section">
      <Image
        src={LucreLogoNormal}
        alt="Lucre+ Logo"
        width={150}
        height={50}
        class="landing-logo"
      />
    </section>

    <section class="landing-hero-section">
      <h1>Descubra como você pode reduzir as taxas sobre as vendas</h1>
      <div class="video-placeholder">
        <video
          controls
          src="/videos/This Christmas.mp4"
          id="vsl-video"
        >
          Seu navegador não suporta a tag de vídeo.
        </video>
      </div>
      <button class="primary">Quero Aumentar Meus Lucros Agora!</button>
    </section>
    <div id="vsl-content" style="display: none;">
      <section class="landing-feature-blocks-section">
        <Swiper1 />
      </section>
      <section class="needs-section">
        <div class="needs-content-left">
          <h1>O que você precisa para vender mais?</h1>
          <p>
            Temos todas as funcionalidades que você precisa para vender mais,
            com maior praticidade e maior lucratividade.
          </p>
          <button class="primary">Lucre agora</button>
        </div>
        <div class="landing-feature-blocks-section needs-content-right">
          <Swiper2 />
        </div>
      </section>

      <HighlightSection
        mainTitle="Comparação com concorrentes em forma de pergunta"
        mainDescription="Essas fontes equilibram modernidade, sofisticação e acessibilidade, reforçando o posicionamento premium."
        highlightItems={[
          {
            title: "Somos melhores nisso",
            description: "Descrição para Somos melhores nisso.",
            imageSrc: heroImage,
          },
          {
            title: "Somos melhores nisso",
            description: "Descrição para Somos melhores nisso.",
            imageSrc: image36,
          },
          {
            title: "Somos melhores nisso",
            description: "Descrição para Somos melhores nisso.",
            imageSrc: image58,
          },
          {
            title: "Somos melhores nisso",
            description: "Descrição para Somos melhores nisso.",
            imageSrc: heroImage,
          },
        ]}
      />

      <IntegrationsSection />

      <TestimonialsSection />

      <ForYou />

      <StandardCallToAction
        title="Pronto para maximizar seus lucros?"
        paragraph="Temos as melhores soluções para suas vendas via cartão de crédito."
        buttonText="quero Lucrar mais agora"
        buttonLink="/contato"
        showParagraph={true}
      />

      <FounderSection
        title="Nosso Fundador"
        description="Amós Silva é Engenheiro Aeronáutico formado pelo Instituto Tecnológico de Aeronáutica (ITA), mestre em Engenharia pelo mesmo instituto e também professor no ITA.<br/><br/>Após anos de experiência no mercado digital, na liderança de um curso online pré-vestibular que aprova alunos em vestibulares altamente concorridos como ITA, IME e USP, Amós identificou um grande desafio enfrentado por Mentores,Educadores e Empreendedores Digitais: <strong>as altas taxas cobradas pelas plataformas de pagamento tradicionais.</strong><br/><br/>Foi a partir dessa dor que surgiu a <strong>Lucre+</strong>, uma solução criada para ajudar esses profissionais a maximizarem seus lucros e terem mais autonomia sobre seus negócios no digital.<br/><br/><h4>“Solucionar problemas é melhorar vidas e transformar o nosso país”<br/><br/>Amós Silva</h4>"
        imagePath="/amos.webp"
      />

      <FAQSection />

      <footer class="landing-footer">
        <p>Informações importantes</p>
      </footer>
    </div>
  </main>
  <Form />
</LandingPageLayout>

<style is:global>
  body {
    background-color: var(
      --color-background
    ); /* Ensure consistent background */
    color: var(--color-text); /* Ensure consistent text color */
  }
  main {
    overflow: clip;
  }

  .landing-logo-section {
    display: flex;
    justify-content: center;
    padding: var(--space-l); /* Using global spacing variable */
    background-color: var(--color-background); /* Match body background */
  }

  .landing-hero-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 0 var(--space-xxl); /* Using global spacing variables */
    gap: var(--space-l); /* Using global spacing variable */
  }

  .landing-hero-section h1 {
    font-size: max(2.5em, 4cqw); /* Aligned with global h1 */
    color: var(--color-text);
    margin-bottom: 0;
  }

  .video-placeholder {
    width: 80%;
    background-color: #333; /* Consider defining a global placeholder color */
    aspect-ratio: 16 / 9;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff; /* Consider defining a global placeholder text color */
    font-size: max(1.5rem, 2.5cqw); /* Using max() for consistency */
  }

  .video-placeholder video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .landing-hero-section button.primary {
    /* Relying on global.css for button styles */
    /* Removed redundant styles */
  }

  .landing-hero-section button.primary:hover {
    /* Relying on global.css for button hover styles */
  }

  .landing-feature-blocks-section {
    padding: var(--space-xxl); /* Using global spacing variables */
    /* Removed redundant background-color as body already sets it */
  }
  .needs-section {
    display: flex;
    gap: var(--space-m); /* Using global spacing */
    padding: var(--space-xxl); /* Using global spacing */
    background-color: hsla(228, 12%, 10%, 1);
    flex-direction: row;
    text-align: left;
    align-items: flex-start; /* Ensure alignment for sticky behavior */
  }
  .needs-content-left {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-m); /* Spacing between elements */
    max-width: 50cqw; /* Limit width for readability */
    position: sticky; /* Make it sticky */
    top: 0; /* Stick to the top of the viewport */
    align-self: flex-start; /* Ensure it aligns to the start within the flex container */
    height: 100vh; /* Ensure it takes full viewport height to allow scrolling of content next to it */
    justify-content: center; /* Center content vertically within the sticky element */
  }
  .needs-content-right {
    max-width: 50vw; /* Limit width for readability */
    padding: 0;
  }
  .needs-content-left h1 {
    font-size: max(2.5em, 4cqw); /* Aligned with global h1 */
    color: var(--color-text);
    margin-bottom: 0; /* Reset margin as gap handles spacing */
  }
  .needs-content-left p {
    font-size: max(1.1em, 1.5cqw); /* Aligned with global p */
    color: var(--color-text);
    line-height: var(--line-height-base);
  }
  .landing-footer {
    background-color: var(--color-background); /* Match body background */
    color: var(--color-text);
    text-align: center;
    padding: var(--space-l); /* Using global spacing variable */
    border-top: 1px solid var(--color-background); /* Using background color for subtle border, or define a specific border color variable */
  }
  @media (max-width: 960px) {
    .landing-feature-blocks-section {
      padding: 8cqb 0;
    }
    .needs-section {
      flex-direction: column;
      padding: 8cqb;
    }
    .needs-content-left {
      position: static;
      height: auto;
      max-width: 100%;
      padding: var(--space-xxl);
    }
    .needs-content-right {
      max-width: 100vw; /* Limit width for readability */
      padding: 0;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const formModal = document.getElementById("form-modal");
    document.querySelectorAll("button").forEach((button) => {
      button.addEventListener("click", (event) => {
        // Prevent opening the modal if the clicked button is inside the modal itself
        if (!formModal.contains(event.target)) {
          formModal.style.display = "flex";
        }
      });
    });
  });
  const vslVideo = document.getElementById("vsl-video");
  const vslContent = document.getElementById("vsl-content");
  let contentShown = false;

  if (vslVideo && vslContent) {
    vslVideo.addEventListener("timeupdate", () => {
      if (vslVideo.currentTime >= 120 && !contentShown) {
        vslContent.style.display = "block";
        contentShown = true;
      }
    });
  }
</script>
